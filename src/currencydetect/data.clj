(ns currencydetect.data)


; Source: http://research.domaintools.com/statistics/tld-counts/

(def tld-stats
  {:ae {:count 80056, :gdp 401.647},
   :ag {:count 18136, :gdp 1.242},
   :al {:count 13728, :gdp 13.262},
   :am {:count 20279, :gdp 10.279},
   :ao {:count 3291, :gdp 128.564},
   :ar {:count 446577, :gdp 540.164},
   :at {:count 1223651, :gdp 437.123},
   :au {:count 2601988, :gdp 1444.189},
   :az {:count 17513, :gdp 74.145},
   :ba {:count 16784, :gdp 17.977},
   :bb {:count 1429, :gdp 4.348},
   :bd {:count 10032, :gdp 185.415},
   :be {:count 1348720, :gdp 534.672},
   :bf {:count 1056, :gdp 12.503},
   :bg {:count 44444, :gdp 55.837},
   :bh {:count 1359, :gdp 33.862},
   :bi {:count 3219, :gdp 3.094},
   :bj {:count 401, :gdp 8.701},
   :bn {:count 667, :gdp 15.102},
   :bo {:count 9581, :gdp 34.425},
   :br {:count 2914994, :gdp 2353.025},
   :bs {:count 1887, :gdp 8.657},
   :bt {:count 1469, :gdp 2.092},
   :bw {:count 5989, :gdp 15.789},
   :by {:count 103450, :gdp 76.139},
   :bz {:count 33931, :gdp 1.693},
   :ca {:count 2255310, :gdp 1788.717},
   :cd {:count 2748, :gdp 34.677},
   :cf {:count 97011, :gdp 1.786},
   :cg {:count 821, :gdp 13.502},
   :ch {:count 1544698, :gdp 712.05},
   :ci {:count 5306, :gdp 33.956},
   :cl {:count 338562, :gdp 257.968},
   :cm {:count 16864, :gdp 31.669},
   :cn {:count 7091364, :gdp 10380.38},
   :co {:count 1840641, :gdp 384.901},
   :cr {:count 14775, :gdp 48.144},
   :cv {:count 1122, :gdp 1.899},
   :cy {:count 12558, :gdp 23.269},
   :cz {:count 1072446, :gdp 205.658},
   :de {:count 14082009, :gdp 3859.547},
   :dj {:count 6426, :gdp 1.589},
   :dk {:count 1177064, :gdp 340.806},
   :dm {:count 1424, :gdp 0.526},
   :do {:count 17482, :gdp 64.077},
   :dz {:count 4610, :gdp 214.08},
   :ec {:count 35770, :gdp 100.755},
   :ee {:count 86169, :gdp 25.953},
   :eg {:count 7744, :gdp 286.435},
   :er {:count 107, :gdp 3.858},
   :es {:count 1749628, :gdp 1406.855},
   :et {:count 1781, :gdp 52.335},
   :fi {:count 343467, :gdp 271.165},
   :fj {:count 1998, :gdp 4.212},
   :fm {:count 19119, :gdp 0.315},
   :fr {:count 2808592, :gdp 2846.889},
   :ga {:count 130307, :gdp 17.182},
   :uk {:count 9026467, :gdp 2945.146},
   :gd {:count 3244, :gdp 0.862},
   :ge {:count 23799, :gdp 16.535},
   :gh {:count 3002, :gdp 38.648},
   :gm {:count 1123, :gdp 0.825},
   :gn {:count 185, :gdp 6.529},
   :gq {:count 26507, :gdp 14.308},
   :gr {:count 365344, :gdp 238.023},
   :gt {:count 14756, :gdp 60.422},
   :gw {:count 49, :gdp 1.024},
   :gy {:count 3143, :gdp 2.997},
   :hk {:count 259065, :gdp 289.628},
   :hn {:count 5839, :gdp 19.511},
   :hr {:count 78881, :gdp 57.159},
   :ht {:count 1915, :gdp 8.711},
   :hu {:count 617181, :gdp 137.104},
   :id {:count 129679, :gdp 888.648},
   :ie {:count 197513, :gdp 246.438},
   :il {:count 194900, :gdp 303.771},
   :in {:count 1425503, :gdp 2049.501},
   :iq {:count 1351, :gdp 221.13},
   :ir {:count 484849, :gdp 404.132},
   :is {:count 48733, :gdp 16.693},
   :it {:count 2431126, :gdp 2147.952},
   :jm {:count 6104, :gdp 13.787},
   :jo {:count 3840, :gdp 35.765},
   :jp {:count 1246979, :gdp 4616.335},
   :ke {:count 32981, :gdp 60.77},
   :kg {:count 8998, :gdp 7.402},
   :kh {:count 2659, :gdp 16.551},
   :ki {:count 338, :gdp 0.181},
   :km {:count 80, :gdp 0.717},
   :kn {:count 1193, :gdp 0.841},
   :kr {:count 1002547, :gdp 1416.949},
   :kw {:count 3902, :gdp 172.35},
   :kz {:count 114260, :gdp 212.26},
   :la {:count 32553, :gdp 11.676},
   :lb {:count 3234, :gdp 49.919},
   :lc {:count 3330, :gdp 1.356},
   :lk {:count 38293, :gdp 74.588},
   :lr {:count 251, :gdp 2.028},
   :ls {:count 680, :gdp 2.159},
   :lt {:count 143266, :gdp 48.232},
   :lu {:count 68168, :gdp 62.395},
   :lv {:count 97063, :gdp 31.97},
   :ly {:count 11311, :gdp 41.148},
   :ma {:count 57615, :gdp 109.201},
   :md {:count 21562, :gdp 7.944},
   :me {:count 741188, :gdp 4.462},
   :mg {:count 3159, :gdp 10.595},
   :mh {:count 3, :gdp 0.193},
   :mk {:count 20217, :gdp 11.342},
   :ml {:count 103418, :gdp 11.915},
   :mm {:count 2707, :gdp 62.802},
   :mn {:count 14015, :gdp 11.981},
   :mr {:count 1207, :gdp 5.079},
   :mt {:count 7886, :gdp 10.582},
   :mu {:count 6535, :gdp 13.24},
   :mv {:count 1962, :gdp 2.854},
   :mw {:count 1930, :gdp 4.263},
   :mx {:count 584379, :gdp 1282.725},
   :my {:count 194872, :gdp 326.933},
   :mz {:count 4494, :gdp 16.684},
   :na {:count 3333, :gdp 13.353},
   :ne {:count 312, :gdp 8.025},
   :ng {:count 27316, :gdp 573.652},
   :ni {:count 6467, :gdp 11.707},
   :nl {:count 4527180, :gdp 866.354},
   :no {:count 587750, :gdp 500.244},
   :np {:count 42623, :gdp 19.637},
   :nz {:count 502467, :gdp 198.118},
   :om {:count 2596, :gdp 77.755},
   :pa {:count 12704, :gdp 43.784},
   :pe {:count 64528, :gdp 202.948},
   :pg {:count 1787, :gdp 16.06},
   :ph {:count 57718, :gdp 284.927},
   :pk {:count 49716, :gdp 250.136},
   :pl {:count 1974060, :gdp 546.644},
   :pt {:count 199205, :gdp 230.012},
   :pw {:count 296165, :gdp 0.269},
   :py {:count 15931, :gdp 29.704},
   :qa {:count 13476, :gdp 210.002},
   :ro {:count 641608, :gdp 199.95},
   :rs {:count 76353, :gdp 43.866},
   :ru {:count 4612683, :gdp 1857.461},
   :rw {:count 1554, :gdp 8.012},
   :sa {:count 30792, :gdp 752.459},
   :sb {:count 427, :gdp 1.155},
   :sc {:count 5442, :gdp 1.42},
   :sd {:count 1893, :gdp 73.816},
   :se {:count 1302673, :gdp 570.137},
   :sg {:count 164283, :gdp 308.051},
   :si {:count 99378, :gdp 49.506},
   :sk {:count 316637, :gdp 99.971},
   :sl {:count 1480, :gdp 5.033},
   :sm {:count 2182, :gdp 1.786},
   :sn {:count 4108, :gdp 15.584},
   :sr {:count 2760, :gdp 5.297},
   :ss {:count 0, :gdp 12.833},
   :st {:count 11081, :gdp 0.341},
   :sv {:count 7914, :gdp 25.329},
   :sz {:count 1162, :gdp 3.676},
   :td {:count 186, :gdp 13.947},
   :tg {:count 811, :gdp 4.604},
   :th {:count 60641, :gdp 373.804},
   :tj {:count 6879, :gdp 9.242},
   :tl {:count 2113, :gdp 4.478},
   :tm {:count 13176, :gdp 47.932},
   :tn {:count 22572, :gdp 48.553},
   :to {:count 15707, :gdp 0.454},
   :tr {:count 318987, :gdp 806.108},
   :tt {:count 3116, :gdp 28.788},
   :tv {:count 570712, :gdp 0.038},
   :tw {:count 313816, :gdp 529.55},
   :tz {:count 9294, :gdp 47.932},
   :ua {:count 578264, :gdp 130.66},
   :ug {:count 5838, :gdp 27.616},
   :us {:count 1751080, :gdp 17418.925},
   :uy {:count 53430, :gdp 55.143},
   :uz {:count 21058, :gdp 62.619},
   :vc {:count 9057, :gdp 0.736},
   :ve {:count 49327, :gdp 205.787},
   :vn {:count 396859, :gdp 186.049},
   :vu {:count 1618, :gdp 0.812},
   :ws {:count 198394, :gdp 0.826},
   :ye {:count 884, :gdp 43.229},
   :za {:count 894798, :gdp 350.082},
   :zm {:count 2789, :gdp 26.758},
   :aw {:count 578, :gdp 2.565}
   :zw {:count 19163, :gdp 13.49}
   :im {:count 28864, :gdp 4.076}
   :gg {:count 5367, :gdp 2.742}
   :ky {:count 11423, :gdp 3.268}
   :sy {:count 939, :gdp 59.957}
   :bm {:count 8671, :gdp 5.47}
   :ms {:count 9563, :gdp 0.0435}
   :af {:count 5024, :gdp 36.838}
   :so {:count 23532, :gdp 5.896}
   :ai {:count 3777, :gdp 0.1089}
   :cu {:count 1425, :gdp 78.694}
   :fk {:count 99, :gdp 0.1645}
   :kp {:count 21, :gdp 15.4}
   :sh {:count 5631, :gdp 0.0139}
   :gi {:count 1763, :gdp 1.53}
   :je {:count 4000, :gdp 5.5}})


; Source: http://www.xe.com/symbols.php

(def currency-symbols
  {:ALL {:tld #{"al"} :symbol "Lek"}
   :AFN {:tld #{"af"} :symbol "؋"}
   :ARS {:tld #{"ar"} :symbol "$"}
   :AWG {:tld #{"aw"} :symbol "ƒ"}
   :AUD {:tld #{"au"} :symbol "$"}
   :AZN {:tld #{"az"} :symbol "ман"}
   :BSD {:tld #{"bs"} :symbol "$"}
   :BBD {:tld #{"bb"} :symbol "$"}
   :BYR {:tld #{"by"} :symbol "p."}
   :BZD {:tld #{"bz"} :symbol "BZ$"}
   :BMD {:tld #{"bm"} :symbol "$"}
   :BOB {:tld #{"bo"} :symbol "$b"}
   :BAM {:tld #{"ba"} :symbol "KM"}
   :BWP {:tld #{"bw"} :symbol "P"}
   :BGN {:tld #{"bg"} :symbol "лв"}
   :BRL {:tld #{"br"} :symbol "R$"}
   :BND {:tld #{"bn"} :symbol "$"}
   :KHR {:tld #{"kh"} :symbol "៛"}
   :CAD {:tld #{"ca"} :symbol "$"}
   :KYD {:tld #{"ky"} :symbol "$"}
   :CLP {:tld #{"cl"} :symbol "$"}
   :CNY {:tld #{"cn"} :symbol "¥"}
   :COP {:tld #{"co"} :symbol "$"}
   :CRC {:tld #{"cr"} :symbol "₡"}
   :HRK {:tld #{"hr"} :symbol "kn"}
   :CUP {:tld #{"cu"} :symbol "₱"}
   :CZK {:tld #{"cz"} :symbol "Kč"}
   :DKK {:tld #{"dk"} :symbol "kr"}
   :DOP {:tld #{"do"} :symbol "RD$"}
   :XCD {:tld #{"ai" "ag" "dm" "gd" "ms" "kn" "lc" "vc"} :symbol "$"}
   :EGP {:tld #{"eg"} :symbol "£"}
   :SVC {:tld #{"sv"} :symbol"$"}
   :EUR {:tld #{"at" "be" "cy" "ee" "fi" "fr" "de" "gr" "ie" "it" "lv" "lt" "lu"
                "mt" "nl" "pt" "sk" "si" "es" "eu"} :symbol	"€"}
   :FKP {:tld #{"fk"} :symbol "£"}
   :FJD {:tld #{"fj"} :symbol "$"}
   :GHC {:tld #{"gh"} :symbol "¢"}
   :GIP {:tld #{"gi"} :symbol "£"}
   :GTQ {:tld #{"gt"} :symbol "Q"}
   :GGP {:tld #{"gg"} :symbol "£"}
   :GYD {:tld #{"gy"} :symbol "$"}
   :HNL {:tld #{"hn"} :symbol "L"}
   :HKD {:tld #{"hk"} :symbol "$"}
   :HUF {:tld #{"hu"} :symbol "Ft"}
   :ISK {:tld #{"is"} :symbol "kr"}
   :INR {:tld #{"in"} :symbol "₹"}
   :IDR {:tld #{"id"} :symbol "Rp"}
   :IRR {:tld #{"ir"} :symbol "﷼"}
   :IMP {:tld #{"im"} :symbol "£"}
   :ILS {:tld #{"il"} :symbol "₪"}
   :JMD {:tld #{"jm"} :symbol "J$"}
   :JPY {:tld #{"jp"} :symbol "¥"}
   :JEP {:tld #{"je"} :symbol "£"}
   :KZT {:tld #{"kz"} :symbol "лв"}
   :KPW {:tld #{"kp"} :symbol "₩"}
   :KRW {:tld #{"kr"} :symbol "₩"}
   :KGS {:tld #{"kg"} :symbol "лв"}
   :LAK {:tld #{"la"} :symbol "₭"}
   :LVL {:tld #{"lv"} :symbol "Ls"}
   :LBP {:tld #{"lb"} :symbol "£"}
   :LRD {:tld #{"lr"} :symbol "$"}
   :LTL {:tld #{"lt"} :symbol "Lt"}
   :MKD {:tld #{"mk"} :symbol "ден"}
   :MYR {:tld #{"my"} :symbol "RM"}
   :MUR {:tld #{"mu"} :symbol "₨"}
   :MXN {:tld #{"mx"} :symbol "$"}
   :MNT {:tld #{"mn"} :symbol "₮"}
   :MZN {:tld #{"mz"} :symbol "MT"}
   :NAD {:tld #{"nz"} :symbol "$"}
   :NPR {:tld #{"np"} :symbol "₨"}
   :ANG {:tld #{"an"} :symbol "ƒ"}
   :NZD {:tld #{"nz"} :symbol "$"}
   :NIO {:tld #{"ni"} :symbol "C$"}
   :NGN {:tld #{"ng"} :symbol "₦"}
   :NOK {:tld #{"no"} :symbol "kr"}
   :OMR {:tld #{"om"} :symbol "﷼"}
   :PKR {:tld #{"pk"} :symbol "₨"}
   :PAB {:tld #{"pa"} :symbol "B/."}
   :PYG {:tld #{"py"} :symbol "Gs"}
   :PEN {:tld #{"pe"} :symbol "S/."}
   :PHP {:tld #{"ph"} :symbol "₱"}
   :PLN {:tld #{"pl"} :symbol "zł"}
   :QAR {:tld #{"qa"} :symbol "﷼"}
   :RON {:tld #{"ro"} :symbol "lei"}
   :RUB {:tld #{"ru"} :symbol "руб"}
   :SHP {:tld #{"sh"} :symbol "£"}
   :SAR {:tld #{"sa"} :symbol "﷼"}
   :RSD {:tld #{"rs"} :symbol "Дин."}
   :SCR {:tld #{"sc"} :symbol "₨"}
   :SGD {:tld #{"sg"} :symbol "$"}
   :SBD {:tld #{"sb"} :symbol "$"}
   :SOS {:tld #{"so"} :symbol "S"}
   :ZAR {:tld #{"za"} :symbol "R"}
   :LKR {:tld #{"lk"} :symbol "₨"}
   :SEK {:tld #{"se"} :symbol "kr"}
   :CHF {:tld #{"ch"} :symbol "CHF"}
   :SRD {:tld #{"sr"} :symbol "$"}
   :SYP {:tld #{"sy"} :symbol "£"}
   :TWD {:tld #{"tw"} :symbol "NT$"}
   :THB {:tld #{"th"} :symbol "฿"}
   :TTD {:tld #{"tt"} :symbol "TT$"}
   :TRY {:tld #{"tr"} :symbol "₺"}
   :TVD {:tld #{"tv"} :symbol "$"}
   :UAH {:tld #{"ua"} :symbol "₴"}
   :GBP {:tld #{"uk"} :symbol "£"}
   :USD {:tld #{"us"} :symbol "$"}
   :UYU {:tld #{"uy"} :symbol "$U"}
   :UZS {:tld #{"uz"} :symbol "лв"}
   :VEF {:tld #{"ve"} :symbol "Bs"}
   :VND {:tld #{"vn"} :symbol "₫"}
   :YER {:tld #{"ye"} :symbol "﷼"}
   :ZWD {:tld #{"zw"} :symbol "Z$"}})


; Source: Refer to model in README

(def outlier-tlds
  #{"ag" "ao" "bd" "bz" "cf" "cn" "dj" "dm" "dz" "eg" "et" "fm" "gd" "id" "iq"
    "jp" "ki" "kw" "lc" "me" "ml" "mm" "ng" "om" "pw" "qa" "sa" "sc" "sd" "st"
    "td" "to" "tv" "us" "vc" "vu" "ws" "ye"})


(def world-gdp
 "Caculate world GDP"
 (reduce + (map #(-> % second :gdp) tld-stats)))

(def euro-gdp
 "Caculate EU GDP"
 (let [euro-keys (->> currency-symbols :EUR :tld (map keyword))
       euro-vals (vals (select-keys tld-stats euro-keys))]
      (reduce + (map :gdp euro-vals))))
